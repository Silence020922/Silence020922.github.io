import{_ as n,o as h,c as k,k as s,a as i,R as a}from"./chunks/framework.CP3Xps-Z.js";const Y=JSON.parse('{"title":"CUDA编程","description":"无...","frontmatter":{"date":"2024-03-01T00:00:00.000Z","title":"CUDA编程","tags":["CUDA"],"description":"无..."},"headers":[],"relativePath":"posts/CUDA.md","filePath":"posts/CUDA.md"}'),t={name:"posts/CUDA.md"},l=a("",9),p={class:"tip custom-block"},E=s("p",{class:"custom-block-title"},"TIP",-1),e={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.467ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 2416.3 647","aria-hidden":"true"},r=a("",1),d=[r],C=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"x"),s("mo",null,","),s("mi",null,"y"),s("mo",null,","),s("mi",null,"z")])],-1),D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.816ex",height:"2.072ex",role:"img",focusable:"false",viewBox:"0 -833.9 3012.6 915.9","aria-hidden":"true"},y=a("",1),A=[y],o=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msup",null,[s("mn",null,"2"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mn",null,"31")])]),s("mo",null,"−"),s("mn",null,"1")])],-1),c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.467ex",height:"1.464ex",role:"img",focusable:"false",viewBox:"0 -442 2416.3 647","aria-hidden":"true"},T=a("",1),Q=[T],m=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"x"),s("mo",null,","),s("mi",null,"y"),s("mo",null,","),s("mi",null,"z")])],-1),u=a("",51),B=s("br",null,null,-1),v={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.528ex",height:"1.885ex",role:"img",focusable:"false",viewBox:"0 -683 1117.6 833","aria-hidden":"true"},f=a("",1),b=[f],w=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mi",null,"L"),s("mn",null,"2")])])],-1),L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.528ex",height:"1.885ex",role:"img",focusable:"false",viewBox:"0 -683 1117.6 833","aria-hidden":"true"},P=a("",1),H=[P],V=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mi",null,"L"),s("mn",null,"2")])])],-1),q=a("",4),N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.816ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.52ex",height:"2.79ex",role:"img",focusable:"false",viewBox:"0 -872.7 5091.7 1233.3","aria-hidden":"true"},U=a("",1),S=[U],G=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mfrac",null,[s("mn",null,"4"),s("mn",null,"32")]),s("mo",null,"="),s("mn",null,"12.5"),s("mi",{mathvariant:"normal"},"%")])],-1),Z=a("",3);function z(R,j,J,O,$,W){return h(),k("div",null,[l,s("div",p,[E,s("p",null,[i("注意网格与线程块大小具有限制，通常，网格大小在"),s("mjx-container",e,[(h(),k("svg",F,d)),C]),i("上最大允许"),s("mjx-container",D,[(h(),k("svg",g,A)),o]),i(", 65535, 65535。线程块大小在"),s("mjx-container",c,[(h(),k("svg",_,Q)),m]),i("分别为1024, 1024, 1024且总的线程块大小不超过1024。")])]),u,s("p",null,[i("合并度等于线程束请求的字节数除以由该请求导致的数据传输处理的全部数据的字节数。当合并度为100%也就是说线程数对全局内存的一次访问请求导致了最少的数据传输，我们称该访问为合并访问，否则为非合并的。"),B,i(" 要分析一个访问是合并的还是非合并的，首先要明晰数据传对数据地址的要求(这里考虑全局内存的读取仅使用"),s("mjx-container",v,[(h(),k("svg",x,b)),w]),i("缓存的情况)： 一次数据传输中从全局内存转移到"),s("mjx-container",L,[(h(),k("svg",I,H)),V]),i("缓存的一片内存的首地址，一定是最小粒度的整数倍(这里为32)。例如，一次传输只能从全局内存中读取地址为0到31字节。以线程请求访问单精度浮点数(4字节)为例，一个线程束总共需要访问128字节，若这128字节的地址恰好为0到127，则此时仅4次传输即可，此时合并度为100%，为合并访问。 下面给出实例")]),q,s("p",null,[i("如上，第一个线程块中的线程束将对数组中第0, 128, 256...元素进行访问，都不在同一个连续32字节的内存片段中，故需要访问32次，此时合并率为"),s("mjx-container",N,[(h(),k("svg",M,S)),G]),i("，为非合并访问。")]),Z])}const K=n(t,[["render",z]]);export{Y as __pageData,K as default};
